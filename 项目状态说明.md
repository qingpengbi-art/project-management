# 项目状态说明

## 新的项目状态流程

系统已更新为基于业务流程的项目状态管理，包含以下10个状态：

### 1. 初步接触 (INITIAL_CONTACT)
- **描述**: 与客户初次接触，了解需求
- **代码值**: `initial_contact`
- **下一步**: 提交方案

### 2. 提交方案 (PROPOSAL_SUBMITTED)
- **描述**: 已向客户提交技术方案或解决方案
- **代码值**: `proposal_submitted`
- **下一步**: 提交报价

### 3. 提交报价 (QUOTATION_SUBMITTED)
- **描述**: 已向客户提交项目报价
- **代码值**: `quotation_submitted`
- **下一步**: 用户确认

### 4. 用户确认 (USER_CONFIRMATION)
- **描述**: 客户已确认方案和报价，准备签约
- **代码值**: `user_confirmation`
- **下一步**: 合同签订

### 5. 合同签订 (CONTRACT_SIGNED)
- **描述**: 合同已签订，项目正式启动
- **代码值**: `contract_signed`
- **下一步**: 项目实施

### 6. 项目实施 (PROJECT_IMPLEMENTATION)
- **描述**: 项目正在实施中
- **代码值**: `project_implementation`
- **下一步**: 项目验收

### 7. 项目验收 (PROJECT_ACCEPTANCE)
- **描述**: 项目完成，客户验收中
- **代码值**: `project_acceptance`
- **下一步**: 维保期内

### 8. 维保期内 (WARRANTY_PERIOD)
- **描述**: 项目验收完成，在维保期内
- **代码值**: `warranty_period`
- **下一步**: 维保期外

### 9. 维保期外 (POST_WARRANTY)
- **描述**: 维保期已结束，可能有后续服务
- **代码值**: `post_warranty`
- **下一步**: 不再跟进（可选）

### 10. 不再跟进 (NO_FOLLOW_UP)
- **描述**: 项目结束，不再跟进
- **代码值**: `no_follow_up`
- **结束状态**: 是

## 自动状态更新规则

系统会在特定条件下自动更新项目状态：

1. **进度相关更新**:
   - 当项目进度从0%变为>0%且当前状态为"合同签订"时，自动更新为"项目实施"
   - 当项目进度达到100%且当前状态为"项目实施"时，自动更新为"项目验收"

2. **手动状态管理**:
   - 其他状态转换需要手动更新
   - 业务流程状态更能反映项目的实际进展

## 数据库更新

- 所有旧的项目状态已自动转换为新状态
- 默认新建项目状态为"初步接触"
- 可使用 `python3 clean_database.py` 清理无效状态

## 前端显示

前端界面将显示中文状态名称，方便用户理解项目当前所处的业务阶段。
