# 本地开发环境说明

## 🎯 开发模式切换

已成功从局域网模式切换到本地开发模式，这样调试更加方便快捷。

## 🚀 当前运行状态

### ✅ 服务状态
- **后端服务**: Flask开发服务器 - `http://localhost:5001`
- **前端服务**: Vite开发服务器 - `http://localhost:3000`

### 🔧 开发特性
- **热重载**: 前端代码修改后自动刷新
- **实时调试**: 后端Flask调试模式，错误信息详细
- **快速迭代**: 无需构建，修改即时生效

## 📱 访问地址

```
前端应用: http://localhost:3000
后端API:  http://localhost:5001
健康检查: http://localhost:5001/health
```

## 🛠️ 快速操作

### 启动开发环境
```bash
# 方式1: 使用快速启动脚本
./start_local_dev.sh

# 方式2: 手动启动
# 终端1 - 启动后端
cd backend && source venv/bin/activate && python app.py

# 终端2 - 启动前端  
cd frontend && npm run dev
```

### 停止开发环境
```bash
# 方式1: 使用停止脚本
./stop_local_dev.sh

# 方式2: 手动停止
# Ctrl+C 停止各个终端中的服务
```

## 📋 开发工具

### 🔍 调试功能
- **Vue DevTools**: 浏览器扩展，调试Vue组件
- **Network面板**: 查看API请求和响应
- **Console日志**: 前后端错误日志实时显示

### 📊 日志查看
```bash
# 查看后端日志
tail -f backend.log

# 查看前端日志  
tail -f frontend.log
```

## ⚡ 开发优势

### 🎯 **本地开发 vs 局域网部署**

| 特性 | 本地开发 | 局域网部署 |
|------|----------|------------|
| **启动速度** | 快速启动 | 需要构建 |
| **热重载** | ✅ 支持 | ❌ 需重新构建 |
| **调试信息** | ✅ 详细 | ❌ 压缩后难调试 |
| **修改生效** | ✅ 即时 | ❌ 需要重启 |
| **网络访问** | 仅本机 | 局域网共享 |

### 🚀 **开发效率提升**
1. **即时反馈**: 代码修改后立即看到效果
2. **详细错误**: 开发模式提供完整的错误堆栈
3. **便捷调试**: 可以使用浏览器开发者工具
4. **快速迭代**: 无需等待构建过程

## 🔄 切换说明

### 📥 切换到本地开发（当前模式）
```bash
./start_local_dev.sh
```
- 前端: Vite开发服务器 (http://localhost:3000)
- 后端: Flask开发服务器 (http://localhost:5001)

### 📤 切换回局域网部署
```bash
./stop_local_dev.sh
cd frontend && npm run build
./start_lan.sh
```
- 前端: 静态文件服务器 (http://192.168.0.115:3001)
- 后端: Flask生产服务器 (http://192.168.0.115:5001)

## 💡 开发建议

### ✅ 推荐做法
1. **本地开发**: 日常开发和调试使用本地模式
2. **局域网测试**: 功能完成后切换到局域网模式进行最终测试
3. **代码提交**: 确保在两种模式下都能正常工作

### ⚠️ 注意事项
1. **端口冲突**: 确保3000和5001端口未被其他应用占用
2. **环境变量**: 开发模式和生产模式的API地址自动切换
3. **数据同步**: 两种模式使用相同的数据库文件

## 🎉 开发体验

现在您可以：
- 📝 修改前端代码，浏览器自动刷新
- 🔧 修改后端代码，服务自动重启
- 🐛 在控制台看到详细的错误信息
- ⚡ 享受快速的开发迭代体验

祝您开发愉快！🚀
