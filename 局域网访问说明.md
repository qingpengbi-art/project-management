# 局域网访问配置说明

## 🚀 快速启动（推荐）

### 一键启动局域网服务
```bash
./start_lan.sh
```

### 停止服务
```bash
./stop_services.sh
```

## 服务器配置

### 自动IP检测
- 系统会自动检测本机局域网IP地址
- 当前检测到的IP：`192.168.0.115`

### 服务端口
- **后端API服务**：`http://[本机IP]:5001`
- **前端Web服务**：`http://[本机IP]:3001`

## 访问方式

### 局域网内其他设备访问
1. 确保设备连接到同一WiFi网络
2. 运行 `./start_lan.sh` 启动服务
3. 在其他设备浏览器中输入脚本显示的访问地址
4. 即可访问项目管理系统

### 服务状态检查
- 后端健康检查：`http://[本机IP]:5001/health`
- 前端页面访问：`http://[本机IP]:3001`

## 已配置项

### 后端配置 (app.py)
- ✅ 监听所有网络接口 (`host='0.0.0.0'`)
- ✅ CORS跨域配置允许局域网访问
- ✅ 支持端口：5001

### 前端配置 (api.js)
- ✅ API基础URL指向局域网IP：`http://192.168.0.115:5001/api`
- ✅ 静态文件服务器监听所有网络接口
- ✅ 支持端口：3001

## 防火墙设置

如果局域网内其他设备无法访问，请检查：

1. **macOS防火墙设置**：
   - 系统偏好设置 → 安全性与隐私 → 防火墙
   - 确保Python和相关服务被允许

2. **路由器设置**：
   - 确保设备在同一网段
   - 检查是否有设备隔离设置

## 测试步骤

1. 在本机测试：
   ```bash
   curl http://192.168.0.115:5001/health
   curl -I http://192.168.0.115:3001/
   ```

2. 在其他设备测试：
   - 手机/平板连接同一WiFi
   - 浏览器访问：`http://192.168.0.115:3001`

## 注意事项

- 服务器重启后需要重新启动后端和前端服务
- IP地址可能会变化，需要相应更新配置
- 建议在路由器中设置静态IP以避免地址变化

## 启动命令

### 后端启动
```bash
cd /Users/bizai/Desktop/项目推荐表设计/backend
source venv/bin/activate
nohup python app.py > backend.log 2>&1 &
```

### 前端启动
```bash
cd /Users/bizai/Desktop/项目推荐表设计/frontend
npm run build
cd dist
nohup python3 -m http.server 3001 --bind 0.0.0.0 > server.log 2>&1 &
```