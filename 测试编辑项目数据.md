# 测试编辑项目数据显示

## 问题描述
编辑项目时，项目负责人字段没有显示原有的负责人信息。

## 调试步骤

### 1. 打开浏览器开发者工具
- Mac: `Command + Option + I`
- Windows: `F12`

### 2. 切换到 Console（控制台）标签

### 3. 进行测试
1. 进入项目管理页面
2. 点击任意项目的"编辑"按钮
3. 查看控制台输出的信息：

```
编辑项目 - 原始数据: {...}
项目成员数据: [...]
找到的负责人: {...}
设置的负责人ID: xxx
```

### 4. 检查数据结构

#### 预期的数据结构
```javascript
{
  id: 1,
  name: "项目名称",
  members: [
    {
      user_id: 1,
      name: "张三",
      role: "leader"  // 负责人标识
    }
  ]
}
```

#### 可能的问题情况

**情况1：members 字段不存在或为空**
```
项目成员数据为空或不存在
```
→ 说明后端返回的项目数据中没有包含 `members` 字段

**情况2：members 存在但找不到 leader**
```
项目成员数据: [{role: "member", ...}]
找到的负责人: undefined
```
→ 说明成员数据中没有 `role === 'leader'` 的记录

**情况3：leader 存在但 user_id 字段名不对**
```
找到的负责人: {id: 1, name: "张三", role: "leader"}
设置的负责人ID: ""
```
→ 说明 leader 对象中没有 `user_id` 字段

---

## 可能的解决方案

### 方案1：后端没有返回 members 数据
需要修改后端 API，确保返回项目时包含 `members` 字段。

### 方案2：members 数据结构不对
可能需要调整前端代码以适应实际的数据结构。

### 方案3：使用 leader_id 字段
如果项目表中有单独的 `leader_id` 字段，可以直接使用：

```javascript
// 直接从项目的 leader_id 获取
form.leader = props.project.leader_id || 
              props.project.leader?.id || ''
```

---

## 请按照上述步骤测试并告诉我：

1. 控制台输出了什么信息？
2. `项目成员数据` 的内容是什么？
3. 项目数据中是否有其他表示负责人的字段（如 `leader_id`）？

把控制台的输出截图或复制粘贴给我，我可以根据实际数据结构调整代码。

